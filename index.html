<!DOCTYPE html>
<html lang="en">
<head sparky-fn="import:package.json" class="{[name]}">
    <meta charset="utf-8" />
    <meta name="author" content="@{[author.twitter]}" />
    <meta name="description" content="Documentation for {[title]}. {[description]}" />
    <meta name="viewport" content="width=device-width" />

    <title>{[title]}</title>

    <script>
    document.documentElement.className = 'js';
    window.DEBUG = true;
    </script>

    <link rel="icon" type="image/png" href="images/favicon.png" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:100,300,400,500,700" />
    <link rel="stylesheet" href="../bolt/dist/bolt.css" />
    <link rel="stylesheet" href="../dom/css/dom.css" />
    <link rel="stylesheet" href="../fn/css/prism.cruncher.css" />
    <link rel="stylesheet" href="../fn/css/docs.css" />
	<link rel="stylesheet" href="./fonts/jazz/font.css" />
    <!--link rel="stylesheet" href="fonts/jazztext/stylesheet.css" /-->
	<link rel="stylesheet" href="./fonts/chords/stylesheet.css"/>
    <link rel="stylesheet" href="./css/scribe.css" />

    <style>
        textarea {
            font-family: 'Roboto Mono', 'Fira Mono', 'Andale Mono', courier, monospace;
            font-weight: 400;
            font-size: 0.9375rem;
            line-height: 1.3125rem;
            min-height: calc(100vh - 13.125rem);
        }

        td {
            padding: 0;
            padding-left: 0.125rem;
            padding-right: 0.125rem;
        }

        .char-grid > div {
            display: inline-block;
            vertical-align: baseline;
            position: relative;
            width: 2.5rem;
            margin-bottom: 2rem;
        }

        .char-grid > div::after {
            content: '';
            display: inline-block;
            font-family: 'Roboto Mono', 'Fira Mono', 'Andale Mono', courier, monospace;
            font-weight: 300;
            vertical-align: baseline;
            width: 100%;
            margin-right: -100%;
            overflow: hidden;
            border-bottom: 1px solid orange;
        }

        .char-grid > div > p {
            position: absolute;
            top: 100%;
            font-size: 0.5625rem;
            font-weight: 300;
            font-family: 'Roboto Mono', 'Fira Mono', 'Andale Mono', courier, monospace !important;
        }

        .scribe-glyph {
            display: block;
            position: relative;
            font-family: 'Jazz';
            font-size: 2.375em;
            line-height: 1em;
            /* Compensate for baseline position. Very dodgy. Err on the side of
               higher x position as FFs baseline is always lower. */
            /*margin-top: -0.736842105em;*/
            margin-top: -0.763157895em;
        }

        .scribe-clef {
            min-width: 0.736842105em;
            margin-left: 0.15em;
            margin-right: 0.3em;
            grid-row: G4;
            grid-column: bar-start;
            vertical-align: baseline;
        }

        .scribe-rest {
            text-align: center;
        }

        /* Hide clef in bars that follow bars of the same clef. */
        .scribe-treble-grid + .scribe-treble-grid > .scribe-clef { display: none; }

        /* Show baseline over glyph */
        /*.scribe-glyph::after {
            content: '';
            display: inline-block;
            font-family: 'Roboto Mono', courier, monospace;
            font-weight: 300;
            vertical-align: baseline;
            height: 0;
            width: 100%;
            margin-right: -100%;
            overflow: hidden;
            border-bottom: 1px solid orange;
        }*/
    </style>
</head>

<body class="">
    <header sparky-fn="import:package.json" class="l-grid grid" id="header">
        <div class="grid-header bottom-align">
            <h2>MusicJSON to HTML converter</h2>
        </div>
    </header>

    <div class="char-grid" style="font-family: Jazz; font-size: 1.5rem">
        <!-- Jazz glyphs -->
    	<div>&#61473;<p>61473</p></div>
    	<div>&#61474;<p>61474</p></div>
    	<div>&#61475;<p>61475</p></div>
    	<div>&#61476;<p>61476</p></div>
    	<div>&#61477;<p>61477</p></div>
    	<div>&#61478;<p>61478</p></div>
    	<div>&#61479;<p>61479</p></div>
    	<div>&#61480;<p>61480</p></div>
    	<div>&#61481;<p>61481</p></div>
    	<div>&#61482;<p>61482</p></div>
    	<div>&#61483;<p>61483</p></div>
    	<div>&#61484;<p>61484</p></div>
    	<div>&#61485;<p>61485</p></div>
    	<div>&#61486;<p>61486</p></div>
    	<div>&#61487;<p>61487</p></div>
    	<div>&#61488;<p>61488</p></div>
    	<div>&#61489;<p>61489</p></div>
    	<div>&#61490;<p>61490</p></div>
    	<div>&#61491;<p>61491</p></div>
    	<div>&#61492;<p>61492</p></div>
    	<div>&#61493;<p>61493</p></div>
    	<div>&#61494;<p>61494</p></div>
    	<div>&#61495;<p>61495</p></div>
    	<div>&#61496;<p>61496</p></div>
    	<div>&#61497;<p>61497</p></div>
    	<div>&#61498;<p>61498</p></div>
    	<div>&#61499;<p>61499</p></div>
    	<div>&#61500;<p>61500</p></div>
    	<div>&#61501;<p>61501</p></div>
    	<div>&#61502;<p>61502</p></div>
    	<div>&#61503;<p>61503</p></div>
    	<div>&#61504;<p>61504</p></div>
    	<div>&#61505;<p>61505</p></div>
    	<div>&#61506;<p>61506</p></div>
    	<div>&#61507;<p>61507</p></div>
    	<div>&#61508;<p>61508</p></div>
    	<div>&#61509;<p>61509</p></div>
    	<div>&#61510;<p>61510</p></div>
    	<div>&#61511;<p>61511</p></div>
    	<div>&#61512;<p>61512</p></div>
    	<div>&#61513;<p>61513</p></div>
    	<div>&#61514;<p>61514</p></div>
    	<div>&#61515;<p>61515</p></div>
    	<div>&#61516;<p>61516</p></div>
    	<div>&#61517;<p>61517</p></div>
    	<div>&#61518;<p>61518</p></div>
    	<div>&#61519;<p>61519</p></div>
    	<div>&#61520;<p>61520</p></div>
    	<div>&#61521;<p>61521</p></div>
    	<div>&#61522;<p>61522</p></div>
    	<div>&#61523;<p>61523</p></div>
    	<div>&#61524;<p>61524</p></div>
    	<div>&#61525;<p>61525</p></div>
    	<div>&#61526;<p>61526</p></div>
    	<div>&#61527;<p>61527</p></div>
    	<div>&#61528;<p>61528</p></div>
    	<div>&#61529;<p>61529</p></div>
    	<div>&#61530;<p>61530</p></div>
    	<div>&#61531;<p>61531</p></div>
    	<div>&#61532;<p>61532</p></div>
    	<div>&#61533;<p>61533</p></div>
    	<div>&#61534;<p>61534</p></div>
    	<div>&#61535;<p>61535</p></div>
    	<div>&#61536;<p>61536</p></div>
    	<div>&#61537;<p>61537</p></div>
    	<div>&#61538;<p>61538</p></div>
    	<div>&#61539;<p>61539</p></div>
    	<div>&#61540;<p>61540</p></div>
    	<div>&#61541;<p>61541</p></div>
    	<div>&#61542;<p>61542</p></div>
    	<div>&#61543;<p>61543</p></div>
    	<div>&#61544;<p>61544</p></div>
    	<div>&#61545;<p>61545</p></div>
    	<div>&#61546;<p>61546</p></div>
    	<div>&#61547;<p>61547</p></div>
    	<div>&#61548;<p>61548</p></div>
    	<div>&#61549;<p>61549</p></div>
    	<div>&#61550;<p>61550</p></div>
    	<div>&#61551;<p>61551</p></div>
    	<div>&#61552;<p>61552</p></div>
    	<div>&#61553;<p>61553</p></div>
    	<div>&#61554;<p>61554</p></div>
    	<div>&#61555;<p>61555</p></div>
    	<div>&#61556;<p>61556</p></div>
    	<div>&#61557;<p>61557</p></div>
    	<div>&#61558;<p>61558</p></div>
    	<div>&#61559;<p>61559</p></div>
    	<div>&#61560;<p>61560</p></div>
    	<div>&#61561;<p>61561</p></div>
    	<div>&#61562;<p>61562</p></div>
    	<div>&#61563;<p>61563</p></div>
    	<div>&#61564;<p>61564</p></div>
    	<div>&#61565;<p>61565</p></div>
    	<div>&#61566;<p>61566</p></div>
    	<div>&#61567;<p>61567</p></div>
    	<div>&#61568;<p>61568</p></div>
    	<div>&#61569;<p>61569</p></div>
    	<div>&#61570;<p>61570</p></div>
    	<div>&#61571;<p>61571</p></div>
    	<div>&#61572;<p>61572</p></div>
    	<div>&#61573;<p>61573</p></div>
    	<div>&#61574;<p>61574</p></div>
    	<div>&#61575;<p>61575</p></div>
    	<div>&#61576;<p>61576</p></div>
    	<div>&#61577;<p>61577</p></div>
    	<div>&#61578;<p>61578</p></div>
    	<div>&#61579;<p>61579</p></div>
    	<div>&#61580;<p>61580</p></div>
    	<div>&#61581;<p>61581</p></div>
    	<div>&#61582;<p>61582</p></div>
    	<div>&#61583;<p>61583</p></div>
    	<div>&#61584;<p>61584</p></div>
    	<div>&#61585;<p>61585</p></div>
    	<div>&#61586;<p>61586</p></div>
    	<div>&#61587;<p>61587</p></div>
    	<div>&#61588;<p>61588</p></div>
    	<div>&#61589;<p>61589</p></div>
    	<div>&#61590;<p>61590</p></div>
    	<div>&#61591;<p>61591</p></div>
    	<div>&#61592;<p>61592</p></div>
    	<div>&#61593;<p>61593</p></div>
    	<div>&#61594;<p>61594</p></div>
    	<div>&#61595;<p>61595</p></div>
    	<div>&#61596;<p>61596</p></div>
    	<div>&#61597;<p>61597</p></div>
    	<div>&#61598;<p>61598</p></div>
    	<div>&#61599;<p>61599</p></div>
    	<div>&#61600;<p>61600</p></div>
    	<div>&#61601;<p>61601</p></div>
    	<div>&#61602;<p>61602</p></div>
    	<div>&#61603;<p>61603</p></div>
    	<div>&#61604;<p>61604</p></div>
    	<div>&#61605;<p>61605</p></div>
    	<div>&#61606;<p>61606</p></div>
    	<div>&#61607;<p>61607</p></div>
    	<div>&#61608;<p>61608</p></div>
    	<div>&#61609;<p>61609</p></div>
    	<div>&#61610;<p>61610</p></div>
    	<div>&#61611;<p>61611</p></div>
    	<div>&#61612;<p>61612</p></div>
    	<div>&#61613;<p>61613</p></div>
    	<div>&#61614;<p>61614</p></div>
    	<div>&#61615;<p>61615</p></div>
    	<div>&#61616;<p>61616</p></div>
    	<div>&#61617;<p>61617</p></div>
    	<div>&#61618;<p>61618</p></div>
    	<div>&#61619;<p>61619</p></div>
    	<div>&#61620;<p>61620</p></div>
    	<div>&#61621;<p>61621</p></div>
    	<div>&#61622;<p>61622</p></div>
    	<div>&#61623;<p>61623</p></div>
    	<div>&#61624;<p>61624</p></div>
    	<div>&#61625;<p>61625</p></div>
    	<div>&#61626;<p>61626</p></div>
    	<div>&#61627;<p>61627</p></div>
    	<div>&#61628;<p>61628</p></div>
    	<div>&#61629;<p>61629</p></div>
    	<div>&#61630;<p>61630</p></div>
    	<div>&#61631;<p>61631</p></div>
    	<div>&#61632;<p>61632</p></div>
    	<div>&#61633;<p>61633</p></div>
    	<div>&#61634;<p>61634</p></div>
    	<div>&#61635;<p>61635</p></div>
    	<div>&#61636;<p>61636</p></div>
    	<div>&#61637;<p>61637</p></div>
    	<div>&#61638;<p>61638</p></div>
    	<div>&#61639;<p>61639</p></div>
    	<div>&#61640;<p>61640</p></div>
    	<div>&#61641;<p>61641</p></div>
    	<div>&#61642;<p>61642</p></div>
    	<div>&#61643;<p>61643</p></div>
    	<div>&#61644;<p>61644</p></div>
    	<div>&#61645;<p>61645</p></div>
    	<div>&#61646;<p>61646</p></div>
    	<div>&#61647;<p>61647</p></div>
    	<div>&#61648;<p>61648</p></div>
    	<div>&#61649;<p>61649</p></div>
    	<div>&#61650;<p>61650</p></div>
    	<div>&#61651;<p>61651</p></div>
    	<div>&#61652;<p>61652</p></div>
    	<div>&#61653;<p>61653</p></div>
    	<div>&#61654;<p>61654</p></div>
    	<div>&#61655;<p>61655</p></div>
    	<div>&#61656;<p>61656</p></div>
    	<div>&#61657;<p>61657</p></div>
    	<div>&#61658;<p>61658</p></div>
    	<div>&#61659;<p>61659</p></div>
    	<div>&#61660;<p>61660</p></div>
    	<div>&#61661;<p>61661</p></div>
    	<div>&#61662;<p>61662</p></div>
    	<div>&#61663;<p>61663</p></div>
    	<div>&#61664;<p>61664</p></div>
    	<div>&#61665;<p>61665</p></div>
    	<div>&#61666;<p>61666</p></div>
    	<div>&#61667;<p>61667</p></div>
    	<div>&#61668;<p>61668</p></div>
    	<div>&#61669;<p>61669</p></div>
    	<div>&#61670;<p>61670</p></div>
    	<div>&#61671;<p>61671</p></div>
    	<div>&#61672;<p>61672</p></div>
    	<div>&#61673;<p>61673</p></div>
    	<div>&#61674;<p>61674</p></div>
    	<div>&#61675;<p>61675</p></div>
    	<div>&#61676;<p>61676</p></div>
    	<div>&#61677;<p>61677</p></div>
    	<div>&#61678;<p>61678</p></div>
    	<div>&#61679;<p>61679</p></div>
    	<div>&#61680;<p>61680</p></div>
    	<div>&#61681;<p>61681</p></div>
    	<div>&#61682;<p>61682</p></div>
    	<div>&#61683;<p>61683</p></div>
    	<div>&#61684;<p>61684</p></div>
    	<div>&#61685;<p>61685</p></div>
    	<div>&#61686;<p>61686</p></div>
    	<div>&#61687;<p>61687</p></div>
    	<div>&#61688;<p>61688</p></div>
    	<div>&#61689;<p>61689</p></div>
    	<div>&#61690;<p>61690</p></div>
    	<div>&#61691;<p>61691</p></div>
    	<div>&#61692;<p>61692</p></div>
    	<div>&#61693;<p>61693</p></div>
    	<div>&#61694;<p>61694</p></div>
    	<div>&#61695;<p>61695</p></div>
    </div>

    <template id="scribe-symbols">
        <div id="4/4-treble-bar" class="scribe-4/4-grid scribe-treble-grid grid">
            <!-- Stave -->
            <svg class="stave-svg" viewbox="0 0 1 4" preserveAspectRatio="none"><use x="0" y="0" href="#stave"/></svg>

            <!-- Bar lines -->
            <svg class="bar-svg bar-svg-0" viewbox="0 0 0.4 4"><use x="0" y="0" href="#bar"/></svg>
            <svg class="bar-svg bar-svg-1" viewbox="0 0 0.4 4"><use x="0.4" y="0" href="#bar"/></svg>

            <!-- Treble clef -->
            <span class="scribe-clef scribe-glyph">&#61478;</span>

            <!-- Cross notes -->
            <!--svg class="head-svg" style="grid-column: beat-0  / span 24; grid-row: line-bottom;" viewbox="0 0 1 1"><use x="0" y="0" href="#cross-head"/></svg>
            <svg class="head-svg" style="grid-column: beat-1  / span 24; grid-row: line-bottom;" viewbox="0 0 1 1"><use x="0" y="0" href="#cross-head"/></svg>
            <svg class="head-svg" style="grid-column: beat-2  / span 24; grid-row: line-bottom;" viewbox="0 0 1 1"><use x="0" y="0" href="#cross-head"/></svg>
            <svg class="head-svg" style="grid-column: beat-3  / span 24; grid-row: line-bottom;" viewbox="0 0 1 1"><use x="0" y="0" href="#cross-head"/></svg-->
        </div>

        <svg id="scribe-stave" class="stave-svg" viewbox="0 0 1 4" preserveAspectRatio="none"><use x="0" y="0" href="#stave"/></svg>
        <svg id="scribe-bar" class="bar-svg bar-svg-0" viewbox="0 0 0.4 4"><use x="0" y="0" href="#bar"/></svg>

        <span id="scribe-rest-1" class="scribe-glyph">&#61646;</span>
        <span id="scribe-rest-0.125" class="scribe-rest-0-125 scribe-rest scribe-glyph">&#61608;</span>
        <span id="scribe-rest-0.25"  class="scribe-rest-0-25 scribe-rest scribe-glyph">&#61637;</span>
        <span id="scribe-rest-0.5" class="scribe-rest-0-5 scribe-rest scribe-glyph">&#61668;</span>
        <span id="scribe-rest-1" class="scribe-rest-1 scribe-rest scribe-glyph">&#61646;</span>
        <span id="scribe-rest-1.5" class="scribe-rest-1-5 scribe-rest scribe-glyph">&#61646;&#61486;</span>
        <span id="scribe-rest-2" class="scribe-rest-2 scribe-rest scribe-glyph">&#61678;</span>
        <span id="scribe-rest-3" class="scribe-rest-3 scribe-rest scribe-glyph">&#61678;&#61486;</span>
        <span id="scribe-rest-4" class="scribe-rest-4 scribe-rest scribe-glyph">&#61623;</span>
        <span id="scribe-rest-6" class="scribe-rest-6 scribe-rest scribe-glyph">&#61623;&#61486;</span>
        <span id="scribe-rest-bars" class="scribe-rest-bars scribe-rest scribe-glyph">&#61685;</span>
        <span id="scribe-flat" class="scribe-glyph">&#61538;</span>
        <span id="scribe-sharp" class="scribe-glyph">&#61475;</span>
        <span id="scribe-head-0.125" class="scribe-head-0-125 scribe-head scribe-glyph">&#61647;</span>
        <span id="scribe-head-0.1875" class="scribe-head-0-1875 scribe-head scribe-glyph">&#61647;&#61486;</span>
        <span id="scribe-head-0.25" class="scribe-head-0-25 scribe-head scribe-glyph">&#61647;</span>
        <span id="scribe-head-0.375" class="scribe-head-0-375 scribe-head scribe-glyph">&#61647;&#61486;</span>
        <span id="scribe-head-0.5" class="scribe-head-0-5 scribe-head scribe-glyph">&#61647;</span>
        <span id="scribe-head-0.75" class="scribe-head-0-75 scribe-head scribe-glyph">&#61647;&#61486;</span>
        <span id="scribe-head-1" class="scribe-head-1 scribe-head scribe-glyph">&#61647;</span>
        <span id="scribe-head-1.5" class="scribe-head-1-5 scribe-head scribe-glyph">&#61647;&#61486;</span>
        <span id="scribe-head-2" class="scribe-head-2 scribe-head scribe-glyph">&#61690;</span>
        <span id="scribe-head-3" class="scribe-head-3 scribe-head scribe-glyph">&#61690;&#61486;</span>
        <span id="scribe-head-4" class="scribe-head-4 scribe-head scribe-glyph">&#61559;</span>
        <span id="scribe-head-6" class="scribe-head-4 scribe-head scribe-glyph">&#61559;&#61486;</span>
        <span id="scribe-head-cross" class="scribe-head-0-125 scribe-head scribe-glyph">&#61632;</span>

        <span id="up-tie" class="tie-span">
            <svg class="tie-svg" viewbox="0 0 1 0.4" preserveAspectRatio="none"><use x="0" y="0" href="#up-tie"/></svg>
        </span>

        <abbr id="scribe-chord"  class="scribe-chord">Symbol</abbr>
    </template>

    <div class="scribe-flex" id="test-1"></div>

    <svg class="defs-svg" viewbox="0 0 1 1">
        <defs>
            <line id="bar" class="bar-line" x1="0" y1="0" x2="0" y2="4"></line>

            <g id="stave" viewbox="0 0 1 4" class="block" width="100%" height="40" preserveAspectRatio="none">
                <line class="stave-line stave-line-top" x1="0" y1="0" x2="1" y2="0"></line>
                <line class="stave-line" x1="0" y1="1" x2="1" y2="1"></line>
                <line class="stave-line stave-line-middle" x1="0" y1="2" x2="1" y2="2"></line>
                <line class="stave-line" x1="0" y1="3" x2="1" y2="3"></line>
                <line class="stave-line stave-line-bottom" x1="0" y1="4" x2="1" y2="4"></line>
            </g>

            <ellipse id="note-head" cx="0.5" cy="0.6" rx="0.667" ry="0.5" transform="rotate(-12)" />

            <g id="cross-head">
                <line x1="0" y1="0" x2="1" y2="1"></line>
                <line x1="0" y1="1" x2="1" y2="0"></line>
            </g>

            <path id="up-tie" class="tie-path" d="M0,0 C0.06,0.2,0.94,0.2,1,0 C0.88,0.1,0.12,0.1,0,0"></path>
        </defs>
    </svg>

    <textarea id="editor"></textarea>

    <script type="module">
        import { events, get, append, remove } from '../dom/dom.js';
        import mjToHTML from './modules/mj-to-html.js';

        var node = get('test-1');

        var data = {
            name: 'dolphin-dance',
            title: 'Dolphin Dance',
            events: [
            	[0,  "mode", "C-7", 1],
            	[2,  "mode", "A♭∆(♯11)", 1],
            	[4,  "mode", "D♭∆(♯11)", 1],
            	[6,  "mode", "G♭∆(♯11)", 1],
            	[8,  "mode", "B♭7sus", 1],
            	[10, "mode", "A♭7(♯11)", 1],
            	[12, "mode", "B♭7sus", 1],
            	[14, "mode", "C7", 1],
            	[16, "mode", "F-7", 1],
            	[18, "mode", "A♭∆(♯11)", 1],
            	[20, "mode", "Dø", 1],
            	[22, "mode", "G7alt", 1],
            	[24, "mode", "Aø", 1],
            	[26, "mode", "D7♭9", 1],
            	/*[28, "mode", "A♭∆(♯11)", 1],
            	[30, "mode", "D♭∆(♯11)", 1],
            	[32, "mode", "G♭∆(♯11)", 1],
            	[34, "mode", "F-7", 1],
            	[36, "mode", "G7sus", 1],
            	[38, "mode", "B♭7sus", 1],
            	[39, "mode", "G7alt", 1],
            	[40, "mode", "C-7", 1],
            	[42, "mode", "A♭∆(♯11)", 1],
            	[44, "mode", "D♭∆(♯11)", 1],
            	[46, "mode", "G♭∆(♯11)", 1],
            	[47, "mode", "G7alt", 1],
            	[48, "mode", "C-∆", 1],
            	[50, "mode", "F7(♯11)", 1],
            	[52, "mode", "C-∆", 1],
            	[54, "mode", "F7(♯11)", 1],
            	[56, "mode", "C-∆", 1],
            	[58, "mode", "F7(♯11)", 1],
            	[60, "mode", "C-∆", 1],
            	[62, "mode", "C7alt", 1],
            	[64, "mode", "F-7", 1],
            	[68, "mode", "Dø", 1],
            	[70, "mode", "G7alt", 1],
            	[72, "mode", "C-∆", 1],
            	[74, "mode", "F7(♯11)", 1],
            	[76, "mode", "C-∆", 1],
            	[78, "mode", "F7(♯11)", 1],
            	[80, "mode", "Aø", 1],
            	[80, "mode", "D7alt", 1],
            	[84, "mode", "E♭-", 1],
            	[82, "mode", "A♭∆(♯11)", 1],
            	[84, "mode", "C-∆", 1],
            	[86, "mode", "F7(♯11)", 1],
            	[88, "mode", "C-∆", 1],
            	[90, "mode", "F7(♯11)", 1],*/

            	[0,     "note", 72, 64, 0.5],
            	[0.5,   "note", 75, 64, 0.5],
            	[1,     "note", 72, 64, 0.5],
            	[1.5,   "note", 75, 64, 0.5],
            	[2,     "note", 77, 64, 0.5],
            	/*[2.5,   "note", 75, 64, 1],
            	[3.5,   "note", 72, 64, 0.25],
            	[3.75,  "note", 70, 64, 0.25],
            	[4,     "note", 72, 64, 0.5],
            	[4.5,   "note", 75, 64, 1],*/
            	[5.5,   "note", 72, 64, 0.25],
            	[5.75,  "note", 70, 64, 0.25],
            	[6,     "note", 72, 64, 1],
            	[7.75,  "note", 67, 64, 0.25],
            	[8,     "note", 72, 64, 0.5],
            	[8.5,   "note", 75, 64, 0.5],
            	[9,     "note", 72, 64, 0.5],
            	[9.5,   "note", 75, 64, 0.5],
            	/*[10,    "note", 78, 64, 0.5],
            	[10.5,  "note", 77, 64, 1],
            	[11.5,  "note", 72, 64, 0.25],
            	[11.75, "note", 70, 64, 0.25],
            	[12,    "note", 72, 64, 0.5],
            	[12.5,  "note", 75, 64, 1],
            	[13.5,  "note", 72, 64, 0.25],
            	[13.75, "note", 70, 64, 0.25],
            	[14,    "note", 72, 64, 1],
            	[15.5,  "note", 60, 64, 0.5],*/
            	[16,    "note", 67, 64, 0.5],
            	[16.5,  "note", 70, 64, 0.5],
            	[17,    "note", 60, 64, 0.5],
            	[17.5,  "note", 63, 64, 0.5],
            	[18,    "note", 65, 64, 0.5],
            	[18.5,  "note", 63, 64, 1],
            	[19.5,  "note", 60, 64, 0.25],
            	[19.75, "note", 63, 64, 0.25],
            	[20,    "note", 67, 64, 0.5],
            	[20.5,  "note", 72, 64, 0.5],
            	[21,    "note", 63, 64, 0.5],
            	[21.5,  "note", 67, 64, 0.5],
            	[22,    "note", 70, 64, 0.5],
            	[22.5,  "note", 67, 64, 0.5],
            	[23,    "note", 63, 64, 0.5],
            	[23.5,  "note", 59, 64, 0.25],
            	[23.75, "note", 57, 64, 0.25],
            	[24,    "note", 63, 64, 0.5],
            	[24.5,  "note", 66, 64, 1],
            	[25.5,  "note", 61, 64, 0.5],
            	[26,    "note", 59, 64, 0.5],
            	[26.5,  "note", 66, 64, 1],
            	[27.5,  "note", 62, 64, 0.5],
            	/*[28,    "note", 63, 64, 2],
            	[30,    "note", 60, 64, 1],
            	[31.5,  "note", 66, 64, 0.25],
            	[31.75, "note", 65, 64, 0.25],
            	[32,    "note", 63, 64, 2],
            	[34,    "note", 60, 64, 2],
            	[36,    "note", 65, 64, 0.5],
            	[36.5,  "note", 63, 64, 0.5],
            	[37,    "note", 60, 64, 0.5],
            	[37.5,  "note", 58, 64, 0.5],
            	[38,    "note", 66, 64, 0.5],
            	[38.5,  "note", 65, 64, 0.5],
            	[39,    "note", 63, 64, 0.5],
            	[39.5,  "note", 60, 64, 0.5],
            	[40,    "note", 63, 64, 2],
            	[42,    "note", 60, 64, 2],
            	[44,    "note", 67, 64, 0.5],
            	[44.5,  "note", 65, 64, 1],
            	[45.5,  "note", 63, 64, 0.5],
            	[46,    "note", 60, 64, 0.5],
            	[46.5,  "note", 58, 64, 1],
            	[47.5,  "note", 55, 64, 0.5],
            	[48,    "note", 62, 64, 4]*/
            ]
        };

        var nodes = mjToHTML(data);
console.log(nodes);
        nodes.forEach(append(node));

        var editor = get('editor');
        editor.value = JSON.stringify(data).replace(/]]/g, ']\n]').replace(/\[\[/g, '[\n[').replace(/],/g, '],\n');

        events('change', editor).each(function(e) {
            try {
                nodes.forEach(remove);
                nodes = mjToHTML(e.target.value);
                nodes.forEach(append(node));
            }
            catch(e) {
                console.log('NOT VALID JSON?');
            }
        });
    </script>
</body>
</html>
